{"version":3,"sources":["webpack:///./js/refsAndOptions.js","webpack:///./js/flights.js","webpack:///../node_modules/debounce/index.js"],"names":["refs","flightList","document","getElementById","inpFrom","selFrom","inpTo","selTo","btnSearch","form","options","userInput","from","to","getFrom","name","type","fetch","then","data","json","response","innerHTML","forEach","el","code","drawHtmlFrom","addEventListener","ev","target","value","drawHtmlTo","checkInput","debounce","event","length","id","console","log","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","module","exports"],"mappings":"kGAAO,MAAMA,EACZ,CACAC,WAAYC,SAASC,eAAe,eACpCC,QAAUF,SAASC,eAAe,QAClCE,QAAUH,SAASC,eAAe,eAClCG,MAAQJ,SAASC,eAAe,MAChCI,MAAQL,SAASC,eAAe,aAChCK,UAAWN,SAASC,eAAe,UACnCM,KAAMP,SAASC,eAAe,YAIlBO,EAAU,CACtB,OAAU,MACV,QAAW,CACV,kBAAmB,8BACnB,iBAAkB,uD,gBCbpB,IAAIC,EACAC,EACAC,EAEJ,SAASC,EAAQC,EAAMC,GACrBC,MAAO,0EAAyEF,EAAOL,GACtFQ,KAAKC,GAAQA,EAAKC,QAClBF,KAAKG,IACDL,GACDhB,EAAKK,QAAQiB,UAAY,GACzBD,EAASE,QAAQC,GAUvB,SAAsBC,EAAMV,GAC1Bf,EAAKK,QAAQiB,WAAc,kBAAiBG,MAASV,aAX1BW,CAAaF,EAAGC,KAAKD,EAAGT,OAC/Cf,EAAKK,QAAQsB,iBAAiB,QAASC,GAAMhB,EAAOgB,EAAGC,OAAOC,SAG5D9B,EAAKO,MAAMe,UAAY,GACvBD,EAASE,QAAQC,GASzB,SAAoBC,EAAMV,GACxBf,EAAKO,MAAMe,WAAc,kBAAiBG,MAASV,aAVtBgB,CAAWP,EAAGC,KAAKD,EAAGT,QAC7Cf,EAAKO,MAAMoB,iBAAiB,QAASC,GAAMf,EAAKe,EAAGC,OAAOC,SAYlE,MAAME,EAAaC,oBAAS,SAASC,GACnCvB,EAAYuB,EAAML,OAAOC,MACD,IAArBnB,EAAUwB,OACXxB,EAAY,GACLA,EAAUwB,QAAU,GAAyB,SAApBD,EAAML,OAAOO,GAC7CtB,EAAQH,EAAW,GACZA,EAAUwB,QAAU,GAAyB,OAApBD,EAAML,OAAOO,IAC7CtB,EAAQH,EAAW,KAEpB,KAaHX,EAAKS,KAAKkB,iBAAiB,QAAQK,GACnChC,EAAKQ,UAAUmB,iBAAiB,SAXhC,WAEEV,MAAO,uFAAsFL,QAAWC,mBAAkBH,GACzHQ,KAAKC,GAAQA,EAAKC,QAClBF,KAAKG,IAEJgB,QAAQC,IAAIjB,S,mBCnChB,SAASY,EAASM,EAAMC,EAAMC,GAC5B,IAAIC,EAASC,EAAMC,EAASC,EAAWC,EAGvC,SAASC,IACP,IAAIC,EAAOC,KAAKC,MAAQL,EAEpBG,EAAOR,GAAQQ,GAAQ,EACzBN,EAAUS,WAAWJ,EAAOP,EAAOQ,IAEnCN,EAAU,KACLD,IACHK,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,OAXnB,MAAQH,IAAMA,EAAO,KAgBzB,IAAIa,EAAY,WACdT,EAAUU,KACVX,EAAOY,UACPV,EAAYI,KAAKC,MACjB,IAAIM,EAAUf,IAAcC,EAO5B,OANKA,IAASA,EAAUS,WAAWJ,EAAOP,IACtCgB,IACFV,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGZG,GAoBT,OAjBAO,EAAUI,MAAQ,WACZf,IACFgB,aAAahB,GACbA,EAAU,OAIdW,EAAUM,MAAQ,WACZjB,IACFI,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,KAEjBe,aAAahB,GACbA,EAAU,OAIPW,EAITpB,EAASA,SAAWA,EAEpB2B,EAAOC,QAAU5B,I","file":"main.dcbabeb0cff73c01220f.js","sourcesContent":["export const refs = \n\t{\n\tflightList: document.getElementById('flight-list'),\n\tinpFrom:  document.getElementById('from'),\n\tselFrom:  document.getElementById('from-select'),\n\tinpTo:  document.getElementById('to'),\n\tselTo:  document.getElementById('to-select'),\n\tbtnSearch: document.getElementById('search'),\n\tform: document.getElementById('js-form')\n}\n\n\nexport const options = {\n\t\"method\": \"GET\",\n\t\"headers\": {\n\t\t\"x-rapidapi-host\": \"tripadvisor1.p.rapidapi.com\",\n\t\t\"x-rapidapi-key\": \"adb3faaf6fmshd013b9156cce1e2p13bfa5jsn787da1a58e9b\"\n\t}\n}","import {refs, options} from './refsAndOptions.js';\nimport { debounce } from '../../node_modules/debounce';\n\nlet userInput;\nlet from;\nlet to;\n\nfunction getFrom(name, type){\n  fetch(`https://tripadvisor1.p.rapidapi.com/airports/search?locale=en_US&query=${name}`,options)\n  .then(data => data.json())\n  .then(response => {\n    if(type){\n      refs.selFrom.innerHTML = '';\n      response.forEach(el => drawHtmlFrom(el.code,el.name))\n      refs.selFrom.addEventListener('click', ev => from = ev.target.value)\n      }\n      else{\n        refs.selTo.innerHTML = '';\n        response.forEach(el => drawHtmlTo(el.code,el.name))}\n        refs.selTo.addEventListener('click', ev => to = ev.target.value)\n      })\n}\n\nfunction drawHtmlFrom(code, name){\n  refs.selFrom.innerHTML += `<option value=\"${code}\">${name}</option>`;\n}\n\nfunction drawHtmlTo(code, name){\n  refs.selTo.innerHTML += `<option value=\"${code}\">${name}</option>`;\n}\n\nconst checkInput = debounce(function(event) {\n  userInput = event.target.value;\n  if(userInput.length === 0){\n    userInput = '';\n  }else if(userInput.length >= 3 && event.target.id === 'from'){\n    getFrom(userInput, 1);\n  }else if(userInput.length >= 3 && event.target.id === 'to'){\n    getFrom(userInput, 0);\n  }\n}, 500)\n\n\nfunction getFlying() {\n  const date = '2020-05-15';\n  fetch(`https://tripadvisor1.p.rapidapi.com/flights/create-session?currency=USD&ta=1&c=0&d1=${from}&o1=${to}&dd1=${date}`, options)\n  .then(data => data.json())\n  .then(response => {\n    // console.log(response.summary.sh);\n    console.log(response);\n  })\n}\n\nrefs.form.addEventListener('input',checkInput);\nrefs.btnSearch.addEventListener('click', getFlying);","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n"],"sourceRoot":""}